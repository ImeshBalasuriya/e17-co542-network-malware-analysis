import streamlit as st
import pandas as pd
import tensorflow as tf
from tensorflow.keras import datasets
import matplotlib.pyplot as plt

# Function to display images in Streamlit app
def display_images(images):
    fig, axes = plt.subplots(4, 4, figsize=(8, 8))
    for i, ax in enumerate(axes.flat):
        ax.imshow(images[i])
        ax.axis('off')
    st.pyplot(fig)

def main():
    st.title("IoT Network Malware Analysis")

    # File uploader
    uploaded_file = st.file_uploader("Choose a CSV file", type=["csv"])

    if uploaded_file is not None:
        # Read the Excel file into a DataFrame
        df = pd.read_excel(uploaded_file, engine='openpyxl')

        # Display the DataFrame
        st.write("### Displaying Data:")
        st.dataframe(df)

    (x_train, _), (_, _) = datasets.cifar10.load_data()
    display_images(x_train[:16])

if __name__ == "__main__":
    main()
